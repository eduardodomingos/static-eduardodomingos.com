{"version":3,"sources":["bodyScrollLock.min.js","app.js"],"names":["e","t","o","define","amd","exports","bodyScrollLock","this","i","Array","isArray","length","from","Object","defineProperty","value","l","window","addEventListener","passive","removeEventListener","f","c","some","options","allowTouchMove","m","event","target","touches","preventDefault","setTimeout","v","document","body","style","paddingRight","s","overflow","d","navigator","platform","test","maxTouchPoints","a","u","disableBodyScroll","r","console","error","targetElement","concat","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","stopPropagation","n","reserveScrollBarGap","innerWidth","documentElement","clientWidth","clearAllBodyScrollLocks","forEach","enableBodyScroll","filter","$","ready","announcementBarHeight","viewportHeight","dom","$window","$body","$menuToggle","$announcementBar","getBodyScrollTop","scrollingElement","headerManager","bodyScrollTop","addClass","removeClass","click","toggleClass","hasClass","scroll","outerHeight","innerHeight","resize","jQuery"],"mappings":"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","file":"../app.min.js","sourcesContent":["!function(e,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"undefined\"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){\"use strict\";function i(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=!1;if(\"undefined\"!=typeof window){var e={get passive(){l=!0}};window.addEventListener(\"testPassive\",null,e),window.removeEventListener(\"testPassive\",null,e)}var d=\"undefined\"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||\"MacIntel\"===window.navigator.platform&&1<window.navigator.maxTouchPoints),c=[],a=!1,u=-1,s=void 0,v=void 0,f=function(t){return c.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},m=function(e){var t=e||window.event;return!!f(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))},o=function(){setTimeout(function(){void 0!==v&&(document.body.style.paddingRight=v,v=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)})};exports.disableBodyScroll=function(r,e){if(d){if(!r)return void console.error(\"disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.\");if(r&&!c.some(function(e){return e.targetElement===r})){var t={targetElement:r,options:e||{}};c=[].concat(i(c),[t]),r.ontouchstart=function(e){1===e.targetTouches.length&&(u=e.targetTouches[0].clientY)},r.ontouchmove=function(e){var t,o,n,i;1===e.targetTouches.length&&(o=r,i=(t=e).targetTouches[0].clientY-u,!f(t.target)&&(o&&0===o.scrollTop&&0<i?m(t):(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&i<0?m(t):t.stopPropagation()))},a||(document.addEventListener(\"touchmove\",m,l?{passive:!1}:void 0),a=!0)}}else{n=e,setTimeout(function(){if(void 0===v){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(v=document.body.style.paddingRight,document.body.style.paddingRight=t+\"px\")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow=\"hidden\")});var o={targetElement:r,options:e||{}};c=[].concat(i(c),[o])}var n},exports.clearAllBodyScrollLocks=function(){d?(c.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),a&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),a=!1),c=[],u=-1):(o(),c=[])},exports.enableBodyScroll=function(t){if(d){if(!t)return void console.error(\"enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.\");t.ontouchstart=null,t.ontouchmove=null,c=c.filter(function(e){return e.targetElement!==t}),a&&0===c.length&&(document.removeEventListener(\"touchmove\",m,l?{passive:!1}:void 0),a=!1)}else(c=c.filter(function(e){return e.targetElement!==t})).length||o()}});\n","(function($) {\n    $(document).ready(function(){\n        var dom = {\n            $window: $(window),\n            // $document: $(document),\n            $body: $('body'),\n            // $header: $('#masthead'),\n            $menuToggle: $('#menu-toggle'),\n            $announcementBar: $('#announcement-bar')\n            // $megamenu: $('#mega-menu'),\n            // $site_content: $('#site-content')\n        };\n\n        var announcementBarHeight;\n        var viewportHeight;\n\n        /*\n         * Menu Toggling\n         */\n        dom.$menuToggle.click(function(){\n            dom.$menuToggle.toggleClass('is-active');\n            dom.$body.toggleClass('offcanvas-is-open');\n            if(dom.$body.hasClass('offcanvas-is-open')) {\n                disableBodyScroll();\n            }\n            else {\n                enableBodyScroll(); \n            }\n        });\n\n        /*\n         * Collapsed Header\n         */\n        function getBodyScrollTop () { \n            var el = document.scrollingElement || document.documentElement;\n            return el.scrollTop; \n        }\n\n        function headerManager(bodyScrollTop) {\n            if (bodyScrollTop > announcementBarHeight) {\n                dom.$body.addClass('masthead-is-fixed');\n            } else {\n                dom.$body.removeClass('masthead-is-fixed');\n            }\n            if (bodyScrollTop > (viewportHeight / 2)) {\n                dom.$body.addClass('masthead-is-collapsed');\n            } else {\n                dom.$body.removeClass('masthead-is-collapsed');\n            }\n        }\n    \n        dom.$window.scroll(function() {\n            headerManager(getBodyScrollTop());\n        });\n\n        /*\n         * Init\n         */\n        (function init() {\n            announcementBarHeight = dom.$announcementBar.outerHeight();\n            viewportHeight =  window.innerHeight;\n            headerManager(getBodyScrollTop());\n        })();\n\n        /*\n         * Resize Event\n         */\n        $(window).resize(function() {\n            viewportHeight =  window.innerHeight;\n        });\n\n    });\n}(jQuery));"]}